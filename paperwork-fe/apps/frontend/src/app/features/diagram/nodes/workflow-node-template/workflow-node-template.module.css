.content {
  --ax-public-node-gap: 0;
  --workflow-node-expanded-width: 900px;
  transition: all 200ms ease-in-out;
  background-color: var(--card);
  border: 1px solid var(--border);
  border-radius: 0.75rem;
  box-shadow: 0 1px 2px 0 rgb(0 0 0 / 0.05);
  overflow: hidden;
  display: flex;
  flex-direction: column;
}

.header {
  display: flex;
  align-items: center;
  gap: 0.75rem;
  padding: 0.75rem 1rem;
  border-bottom: 1px solid var(--border);
}

.node-content {
  flex: 1;
  padding: 1rem;
  display: flex;
  flex-direction: column;
  gap: 0.75rem;
}

.handles {
  pointer-events: none;
}

/* Re-enable pointer events for handles themselves to allow dragging connections */
.handles :global(.react-flow__handle) {
  pointer-events: all !important;
}

/* Selected state - add ring effect like shadcn inputs */
.content[data-expanded='true'] {
  border-color: var(--ring);
  outline: none;
  box-shadow: 0 0 0 3px color-mix(in oklch, var(--ring) 50%, transparent), 0 1px 2px 0 rgb(0 0 0 / 0.05);
}

/* Override node width when expanded - make it wrap around content */
.content:has(.expanded-container),
.content[data-expanded='true'] {
  width: var(--workflow-node-expanded-width) !important;
  min-width: var(--workflow-node-expanded-width) !important;
  max-width: var(--workflow-node-expanded-width) !important;
}

/* Force all overflow-ui internal components to expand to full width ONLY when expanded */
.content:has(.expanded-container) > :global(*),
.content[data-expanded='true'] > :global(*) {
  width: 100% !important;
  min-width: 100% !important;
  max-width: 100% !important;
}

.content:has(.expanded-container) :global([class*='NodePanel']),
.content[data-expanded='true'] :global([class*='NodePanel']) {
  width: 100% !important;
  min-width: 100% !important;
  max-width: 100% !important;
}

.content:has(.expanded-container) :global([class*='node-panel']),
.content[data-expanded='true'] :global([class*='node-panel']) {
  width: 100% !important;
  min-width: 100% !important;
  max-width: 100% !important;
}

/* Force content wrapper and header to expand */
.content:has(.expanded-container) :global([class*='content']),
.content:has(.expanded-container) :global([class*='header']),
.content[data-expanded='true'] :global([class*='content']),
.content[data-expanded='true'] :global([class*='header']) {
  width: 100% !important;
}

.content:has(.expanded-container) :global(div),
.content[data-expanded='true'] :global(div) {
  max-width: 100%;
}

/* Ensure all child elements respect the container width */
.content:has(.expanded-container) :global(*),
.content[data-expanded='true'] :global(*) {
  box-sizing: border-box;
}

.collapsible {
  padding-top: 0.5rem;
}

.expanded-container {
  width: 100%;
  display: flex;
  flex-direction: column;
  overflow: visible;
  box-sizing: border-box;
}

.expanded-content {
  display: flex;
  flex-direction: column;
  gap: 1rem;
  color: var(--ax-txt-primary-default);
  width: 100%;
  box-sizing: border-box;
  overflow: visible;
}

.expanded-content > div:first-child {
  display: flex;
  flex-direction: column;
  gap: 0.25rem;
}

.editor-loading {
  min-height: 200px;
  display: flex;
  align-items: center;
  justify-content: center;
  background-color: var(--ax-ui-surface-primary-default);
  border-radius: 0.375rem;
  color: var(--ax-txt-tertiary-default);
}

.preview-section {
  display: flex;
  flex-direction: column;
  width: 100%;
  gap: 0.5rem;
}

.preview-header {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
}

